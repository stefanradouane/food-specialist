<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script
      src="https://rawgit.com/flatiron/director/master/build/director.min.js">
    </script>
</head>
<body>

    <a href="/author">Barcode</a>
    <a href="/books">Product</a>
    <a href="/">Home</a>
    <a href="#test">This text will be overwritten</a>
    <button>This text will be overwritten</button>
    <button class="back-button">Back</button>

    <script>

      var author = function () { console.log("author"); };
      var books = function () { console.log("books"); };
      var viewBook = function (bookId) {
        console.log("viewBook: bookId is populated: " + bookId);
      };

      var routes = {
        '/author': author,
        '/books': [books, function() {
          console.log("An inline route handler.");
        }],
        '/books/view/:bookId': viewBook
      };

      var router = Router(routes);

      router.init();

// const routes = {
//   '/': 'home',
//   '/barcode': 'barcode',
//   '/product': 'product'
// };

// function handleRouteChange(route) {
//   // Update the content section based on the current route
//   console.log(`Current route is ${route}`);
// }

// document.addEventListener('DOMContentLoaded', function () {
//   // Handle clicks on links
//   document.addEventListener('click', function (event) {
//   if (event.target.matches('a')) {
//     event.preventDefault();
//     const href = event.target.getAttribute('href');
//     if (routes[href] && href !== location.pathname) {
//       const url = new URL(href, location.origin);
//       history.pushState(null, null, url);
//       handleRouteChange(routes[href]);
//     }
//   }
//     })
//   // Handle back and forward buttons
//   window.addEventListener('popstate', function () {
//     handleRouteChange(routes[location.pathname]);
//   });
// });
// In this script, the DOMContentLoaded event is used to ensure that the DOM is loaded before the script runs. The handleRouteChange function is defined to update the content section of your website based on the current route. The routes object maps the different states of your website to routes. The click event is handled to change the current route using the History API, and the popstate event is used to handle back and forward buttons.





    //     const backButton = document.querySelector(".back-button");
    //     backButton.addEventListener("click", () => window.history.back());
    //     const button = document.querySelector("button");
    //     let state = { 
    //     buttonText: "Initial text"
    //     };
    //     // Change the look of your app based on state
    //     function render() {
    //     button.innerText = state.buttonText;
    //     }
    //     // Set initial state and render app for the first time
    //     (function initialize() {
    //     window.history.replaceState(state, null, "");
    //     render(state);
    //     })();
    //     // Update state, history, and user interface
    //     function handleButtonClick() {
    //     state.buttonText = "I clicked the button!"
    //     window.history.pathname = "/hello"
    //     window.history.replaceState(state, "title", "?page=2");
    //     // event.preventDefault();
    // // window.history.pushState(state, unused, target link);
    //     window.history.pushState({}, "", "/hello")
    //     render(state);
    //     }
    //     // Connect your button to the handler above to trigger on click
    //     button.addEventListener("click", handleButtonClick);
    //     // Tell your browser to give you old state and re-render on back
    //     window.onpopstate = function (event) {
    //     if (event.state) { state = event.state; }
    //     render(state);
    //     };

    //     window.addEventListener("hashchange", locationHandler);
    //     // call the urlLocationHandler to load the page
    //     locationHandler();


    //     const locationHandler = async () => {
    // // get the url path, replace hash with empty string
    // var location = window.location.hash.replace("#", "");
    // // if the path length is 0, set it to primary page route
    // if (location.length == 0) {
    //     location = "/";
    // }
    // // get the route object from the routes object
    // const route = routes[location] || routes["404"];
    // // get the html from the template
    // // const html = await fetch(route.template).then((response) => response.text());
    // // set the content of the content div to the html
    // // document.getElementById("content").innerHTML = html;
    // // set the title of the document to the title of the route
    // // document.title = route.title;
    // // set the description of the document to the description of the route
    // // document
    //     // .querySelector('meta[name="description"]')
    //     // .setAttribute("content", route.description);
// };
    </script>
</body>
</html>